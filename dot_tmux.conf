set-option -g default-shell /usr/bin/zsh

#Theme
# set -g @plugin 'fabioluciano/tmux-tokyo-night'


#vimmode
setw -g mode-keys vi 
# Use Vim-like keys for pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R


# In copy-mode-vi:
# Enter copies selection but STAYS in copy mode
bind -T copy-mode-vi Enter send -X copy-selection

# q exits copy mode (like Vim)
bind -T copy-mode-vi q send -X cancel

# (Optional but recommended)
# v = begin selection (vim-style)
bind -T copy-mode-vi v send -X begin-selection

# y = copy selection (vim-style)
bind -T copy-mode-vi y send -X copy-selection


# Mouse drag end: copy but DO NOT exit copy-mode
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-selection

# Optional: double-click word select (still stays in copy-mode)
bind -T copy-mode-vi DoubleClick1Pane send -X select-word
bind -T copy-mode-vi DoubleClick1Pane send -X copy-selection

# Optional: triple-click line select
bind -T copy-mode-vi TripleClick1Pane send -X select-line
bind -T copy-mode-vi TripleClick1Pane send -X copy-selection

# q still exits (already added, but repeating for clarity)
bind -T copy-mode-vi q send -X cancel


#Mouse
set -g mouse on


# Clear the default C-b p (optional)
unbind-key p

# Toggle popup with conditional logic
bind-key p if-shell '[ "$(tmux list-panes -F "#{?popup_pane,1,0}" | grep -c 1)" -eq 1 ]' \
    'display-popup -C' \
    'display-popup -d "#{pane_current_path}" -E "exec $SHELL"'



set -as terminal-features ",*:RGB"
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
#--------------------------------------------------------------------------
# Status line
#--------------------------------------------------------------------------

# # Status line customisation
set-option -g status-left-length 100
set-option -g status-right-length 100
set-option -g status-left " tmux on >>> #{session_name}  "
set-option -g status-right '#[fg=#8fBA61,bg=default]uptime #(uptime | awk "{print \$3}" | tr -d ",") #[default] #H'

#
# # set-option -g status-style "fg=#7C7D83 bg=#18242e" # ayu
# set-option -g status-style "fg=#ffffff bg=#013966" # tokyo night
set-option -g status-style "fg=#ffffff bg=#242424" # tokyo night
# # set-option -g status-style "fg=#7C7D83 bg=#24282f" # one dark
# # set-option -g status-style "fg=#7C7D83 bg=default" # gruvbox dark
# # set-option -g status-style "fg=#828bb1 bg=default" # default will set the background to transparent
#
set-option -g window-status-format "#{window_index}:#{window_name}#{window_flags} " # window_name -> pane_current_command
set-option -g window-status-current-format "#{window_index}:#{window_name}#{window_flags} "
# set-option -g window-status-current-style "fg=#dcc7a0"  #for gruvbox use: dcc7a0 or aeb6ff
set-option -g window-status-current-style "fg=#8fBA61"  #for gruvbox use: dcc7a0 or aeb6ff
set-option -g window-status-activity-style none
#
# set-option -g status on
# set-option -g status-interval 1
set-option -g status-justify left
# set-option -g status-keys vi
# set-option -g status-position bottom
# set-option -g status-style fg=colour136,bg=colour235
# set-option -g status-left-length 20
# # set-option -g status-left-style default
# # set-option -g status-left "#[fg=green]#H #[fg=black]â€¢ #[fg=green,bright]#(uname -r)#[default]"
# set-option -g status-right-length 140
# # set-option -g status-right-style default
# set-option -g status-right "#[fg=green,bg=default,bright]#(tmux-mem-cpu-load) "
# set-option -ag status-right "#[fg=red,dim,bg=default]#(uptime | cut -f 4-5 -d ' ' | cut -f 1 -d ',') "
# # set-option -ag status-right " #[fg=white,bg=default]%a%l:%M:%S %p#[default] #[fg=blue]%Y-%m-%d"
# set-window-option -g window-status-style fg=colour244
# set-window-option -g window-status-style bg=default
# set-window-option -g window-status-current-style fg=colour166
# set-window-option -g window-status-current-style bg=default
#
#


